(()=>{"use strict";!function(){const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};if(e.any()){document.body.classList.add("_touch");let e=document.querySelectorAll(".menu__arrow");if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){n.parentElement.classList.toggle("_active")}))}}else document.body.classList.add("_pc");const t=document.querySelector(".menu__icon"),n=document.querySelector(".menu__body"),c=document.querySelector(".menu-item-has-children");t&&t.addEventListener("click",(function(e){document.body.classList.toggle("_lock"),t.classList.toggle("_active"),n.classList.toggle("_active"),c&&c.classList.remove("_active")}))}(),function(){const e=document.querySelector(".header");if(e){const t=e.offsetHeight,n=()=>window.scrollY||document.documentElement.scrollTop,c=()=>{n()>t?e.classList.add("n_scroll"):e.classList.remove("n_scroll")};let o=n();window.addEventListener("scroll",(()=>{const l=n();l>o&&l>t?e.classList.add("n_hidden"):(l<o||l<=t)&&e.classList.remove("n_hidden"),o=l,c()})),c()}}(),function(){document.querySelectorAll(".wrap-lazy-load-image").forEach((e=>{const t=e.querySelector("img");if(t){const e=document.createElement("span");e.className="sk-spinner-pulse",t.insertAdjacentElement("afterend",e)}}));const e=document.querySelectorAll(".wrap-lazy-load-image img");e.forEach((e=>{null===e.getAttribute("data-src")&&(e.setAttribute("data-src",e.getAttribute("src")),e.removeAttribute("src"),e.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"))}));const t=e,n=document.documentElement.clientHeight;let c=[];function o(){let e=c.findIndex((e=>pageYOffset>e-n));e>=0&&(t[e].dataset.src?(t[e].src=t[e].dataset.src,t[e].removeAttribute("data-src"),t[e].addEventListener("load",(n=>{t[e].parentNode.classList.add("img-loaded")}))):t[e].dataset.src&&(t[e].src=t[e].dataset.srcset,t[e].removeAttribute("data-srcset"),t[e].addEventListener("load",(n=>{t[e].parentNode.classList.add("img-loaded")}))),delete c[e])}t.length>0&&t.forEach((e=>{(e.dataset.src||e.dataset.srcset)&&(c.push(e.getBoundingClientRect().top+pageYOffset),o())})),window.addEventListener("scroll",(function(){e&&o()}))}(),function(){const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let c=!0;if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(function(e){const t=n.getAttribute("href").replace("#","");l(document.getElementById(t)),e.preventDefault()}))}const o=document.querySelectorAll(".close-popup");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.addEventListener("click",(function(e){s(t.closest(".popup")),e.preventDefault()}))}function l(e){if(e&&c){const o=document.querySelector(".popup.open");o?s(o,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t++)n[t].style.paddingRight=e;t.style.paddingRight=e,t.classList.add("lock"),c=!1,setTimeout((function(){c=!0}),600)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||s(e.target.closest(".popup"))}))}}function s(e,o=!0){c&&(e.classList.remove("open"),o&&(setTimeout((function(){if(n.length>0)for(let e=0;e<n.length;e++)n[e].style.paddingRight="0px";t.style.paddingRight="0px",t.classList.remove("lock")}),600),c=!1,setTimeout((function(){c=!0}),600)))}document.addEventListener("keydown",(function(e){27===e.which&&s(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)}(),function(){let e=document.querySelectorAll(".select__header"),t=document.querySelectorAll(".select__item"),n=document.querySelector(".select__body");function c(){this.parentElement.classList.toggle("is-active")}function o(){let e=this.innerText,t=this.closest(".select");t.querySelector(".select__current").innerText=e,t.classList.add("selected"),t.classList.remove("is-active")}e.forEach((e=>{e.addEventListener("click",c)})),t.forEach((e=>{e.addEventListener("click",o)})),n&&n.addEventListener("click",(function(e){const t=document.querySelectorAll(".select__item"),n=e.target;Array.from(t).forEach((e=>{e.classList.remove("current-lang")})),n.classList.add("current-lang")}))}(),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("link-more-events");if(e&&document.querySelectorAll(".events__item").length>6&&e.classList.remove("hidden"),document.querySelector(".museum-hall-big-slider")&&document.querySelectorAll(".museum-hall-big-slider .swiper-slide").forEach((e=>{e.addEventListener("click",(()=>{e.parentNode.parentNode.classList.add("open-popup")}))})),document.getElementById("popup_museum_hall_info")){const e=document.getElementById("museum-hall-big-slider"),t=document.getElementById("popup_museum_hall_info_content"),n=document.getElementById("museum-halls-block"),c=document.getElementById("close-popup-hall-info");document.querySelectorAll("#museum-hall-big-slider .swiper-slide").forEach((n=>{n.addEventListener("click",(function(){t.insertBefore(e,t.firstChild)}))})),c.addEventListener("click",(function(){n.insertBefore(e,n.firstChild),document.getElementById("close-popup-hall-info").parentNode.parentNode.parentNode.classList.remove("open"),document.body.classList.remove("lock")}))}document.getElementById("expand-button").addEventListener("click",(function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()}))}))})();